# 運用例

## はじめに

新規開発時のSVN運用管理例を示す。
本運用例は、あくまで運用例である。SVN運用ルールの原則に従う限りにおいては、各システム開発責任者の裁量に任せるものとする。
どうしても、ルールに不安がある場合は管理者に相談すること。

## ツールについて

本運用例では、SVNに対する操作は、すべてTortoiseSVNをベースにして説明しているが、別ツールを使用する場合は適宜読み替えを行うこと。
あと、一部管理コマンド(リポジトリ作成など)については、SVNサーバ上でこマントラインにて実施している。

通常、次のツールを使うことを推奨する。
TortoiseSVN Windowsで利用できるSubversionクライアントツール。Windowsシェルエクステンションとして使用する。
AnkhSvn Visual Studioから直接SVNにアクセスすることができるVisualStudioアドイン。

# リポジトリの作成/権限設定

## リポジトリの作成

リポジトリの作成はSVNサーバ上で実施する。

## リポジトリに対する権限設定

## 初期ディレクトリの作成

branches, tags, trunk ディレクトリをリポジトリのルートに作成する。

## 初期プログラムファイルの登録

今まで個人フォルダ管理及び別ファイル管理ツールを使用していたものをSVNで使用する場合は、初期プログラムファイルを次の手順で trunk ディレクトリに登録を行う。
branchesディレクトリに直接登録しないこと。
SVNへの変換ツールがある場合は、そのツールを使うことも検討すること。

1. trunkにディレクトリを作成する。
2. 1で作成したフォルダにプログラムファイルを登録する。

## 開発ブランチの作成

次の手順で開発用ブランチを作成する。

1. 開発のベースとなるバージョンのディレクトリからbranchesにブランチを作成する。

## マージ

複数人で開発をしている場合、trunkにマージを行う。
このマージをした結果が、リリースする最終的なプログラムソースとなる。
マージする手順が次の手順とする。

1. TortoiseSVN で trunk に対して switch を行う。
2. TortoiseSVN で マージを行う。
3. マージが成功すると、trunk にブランチで修正したプログラムソースが表示されるので、コミットを行う。
4. trunk から branches にリリース用ブランチ(branches/release-1.0.1) を作成する。
5. 4で作成したリリース用ブランチを使って、システムリリースを行う。
6. システムリリース後、tagsに対してブランチを行う( branches/release-1.0.1 から tags/tags-1.0.1)

リリース後修正があれば、tags から branches (複数人同時開発を行う場合は trunk から branches ) を作成してから再度修正を行う。

## 開発者向け

ソースを管理するローカルフォルダをWindowsエクスプローラで開く。右クリックすると下図のような TortoiseSVN のメニューが表示されるので、そのメニューから SVNチェックアウト を選択する。

チェックアウト画面が表示されるので、システム開発責任者から連絡のあったリポジトリのURLを入力する。
認証後、指定したディレクトリ以下にSVNに登録されているファイルがチェックアウトされる。



